---
import BaseLayout from '@layouts/BaseLayout.astro';
import ContentSection from '@components/layout/ContentSection.astro';
import ProjectsGallery from '@components/sections/ProjectsGallery.astro';
import { Icon } from 'astro-icon/components';

const pageTitle = 'Projects - Accelerating Discovery Through Community';
const pageDescription = 'Explore groundbreaking research projects powered by the Smarter with Science community. From ocean conservation to quantum biology, see how collective action drives scientific breakthroughs.';

// Project image mapping to pixel art files
const projectImageMapping = {
  'ocean-vision': '/ui-elements/project-ocean-vision-pixel.png',
  'rare-disease': '/ui-elements/project-rare-disease-pixel.png', 
  'quantum-bio': '/ui-elements/project-quantum-biology-pixel.png',
  'mesh-network': '/ui-elements/project-mesh-networks-pixel.png',
  'steam-vr': '/ui-elements/project-steam-vr-pixel.png',
  'algae-protein': '/ui-elements/project-algae-protein-pixel.png'
};

// Category mapping for GhibliProjectCard
const categoryMapping = {
  'climate': 'ocean',
  'health': 'medical', 
  'food': 'algae',
  'resilience': 'mesh',
  'education': 'vr'
} as const;

// Project categories with colors
const categories = [
  { id: 'all', label: 'All Projects', color: 'neural-gradient' },
  { id: 'health', label: 'Health & Medicine', color: 'plasma-green' },
  { id: 'climate', label: 'Ocean & Climate', color: 'warp-core-blue' },
  { id: 'food', label: 'Food Security', color: 'hologram-cyan' },
  { id: 'education', label: 'STEAM Education', color: 'cyber-pink' },
  { id: 'resilience', label: 'Community Resilience', color: 'royal-purple' },
];

// Sample projects data (will be replaced with content collections)
const sampleProjects = [
  {
    id: 'ocean-vision',
    title: 'Ocean ViSION',
    category: 'climate',
    description: 'AI-powered marine ecosystem monitoring to track climate change impacts in real-time.',
    impact: '50,000+ marine species tracked',
    status: 'active',
    image: 'ocean-vision',
    computeHours: 2400,
    collaborators: 23,
  },
  {
    id: 'rare-disease-ai',
    title: 'Rare Disease AI Diagnostics',
    category: 'health',
    description: 'Machine learning models trained on community-contributed data to identify rare genetic conditions.',
    impact: '127 conditions identified faster',
    status: 'active',
    image: 'rare-disease',
    computeHours: 8900,
    collaborators: 156,
  },
  {
    id: 'quantum-photosynthesis',
    title: 'Quantum Biology Lab',
    category: 'food',
    description: 'Exploring quantum effects in photosynthesis to develop more efficient solar panels and crops.',
    impact: '3x efficiency improvement',
    status: 'active',
    image: 'quantum-bio',
    computeHours: 1200,
    collaborators: 34,
  },
  {
    id: 'community-mesh',
    title: 'Resilience Mesh Networks',
    category: 'resilience',
    description: 'Decentralized communication infrastructure for disaster response and community coordination.',
    impact: '15 communities connected',
    status: 'planning',
    image: 'mesh-network',
    computeHours: 450,
    collaborators: 89,
  },
  {
    id: 'steam-vr',
    title: 'STEAM VR Labs',
    category: 'education',
    description: 'Virtual reality experiences that make complex scientific concepts tangible and exciting.',
    impact: '10,000+ students engaged',
    status: 'active',
    image: 'steam-vr',
    computeHours: 600,
    collaborators: 45,
  },
  {
    id: 'algae-protein',
    title: 'Algae Protein Revolution',
    category: 'food',
    description: 'Engineering algae strains for sustainable, high-yield protein production.',
    impact: '90% less water usage',
    status: 'active',
    image: 'algae-protein',
    computeHours: 3200,
    collaborators: 67,
  },
];
---

<BaseLayout title={pageTitle} description={pageDescription}>
  <!-- Hero Section -->
  <ContentSection 
    theme="glass" 
    padding="large"
    centered
    className="min-h-[80vh] flex items-center"
  >
    <div class="max-w-4xl mx-auto text-center">
      <h1 class="fluid-2xl font-display font-black mb-6">
        <span class="gradient-text">Projects Gallery</span>
      </h1>
      <p class="fluid-lg text-text-offset mb-4">
        Where Community Meets Discovery
      </p>
      <p class="fluid-base text-text-muted max-w-3xl mx-auto mb-8">
        Every project here represents a collision of curiosity and capability. Explore how 
        your compute hours, expertise, and passion are accelerating breakthroughs across 
        every field of science.
      </p>
    </div>
  </ContentSection>

  <!-- Projects Gallery -->
  <ProjectsGallery projects={sampleProjects} columns={3} />

  <!-- Start Project CTA -->
  <ContentSection theme="dark" centered>
    <div class="max-w-4xl mx-auto text-center">
      <h2 class="text-4xl md:text-5xl font-display font-bold mb-6">
        Have a <span class="gradient-text">Breakthrough</span> Idea?
      </h2>
      <p class="text-xl text-text-offset mb-8 max-w-2xl mx-auto">
        We provide the compute power, operational support, and community connections 
        to turn your research vision into reality. No red tape, no barriersâ€”just science.
      </p>
      
      <div class="grid md:grid-cols-3 gap-6 mb-8">
        <div class="flex items-center gap-3 p-4 bg-background/50 rounded-lg border border-primary/20">
          <div class="w-3 h-3 bg-primary rounded-full animate-pulse"></div>
          <span class="text-sm font-medium">Free GPU Hours</span>
        </div>
        <div class="flex items-center gap-3 p-4 bg-background/50 rounded-lg border border-secondary/20">
          <div class="w-3 h-3 bg-secondary rounded-full animate-pulse"></div>
          <span class="text-sm font-medium">Expert Mentorship</span>
        </div>
        <div class="flex items-center gap-3 p-4 bg-background/50 rounded-lg border border-accent-green/20">
          <div class="w-3 h-3 bg-accent-green rounded-full animate-pulse"></div>
          <span class="text-sm font-medium">Global Community</span>
        </div>
      </div>
      
      <a 
        href="/start-project" 
        class="inline-flex items-center gap-2 px-8 py-4 bg-primary text-background font-semibold rounded-lg hover:bg-primary/90 transition-all duration-300 hover:-translate-y-1 hover:shadow-glow-primary"
      >
        Start Your Project
        <Icon name="mdi:rocket-launch" class="w-5 h-5" />
      </a>
    </div>
  </ContentSection>
</BaseLayout>